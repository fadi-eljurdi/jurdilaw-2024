if(void 0===e){var e={constants:{FPS60:16,DELAY_BEFORE_CHECKING_REPLACING_VISME_DIVS_TO_IFRAMES_MS:1e3,DELAY_BEFORE_UPDATING_REPLACED_IFRAME_SIZE_MS:0,DEBOUNCED_UPDATING_RESPONSEIVE_SIZE_DELAY_MS:300,TOP_LEVEL_UPDATE_DIMENSIONS_MESSAGE_TYPE:"@visme::TOP_LEVEL_UPDATE_DIMENSIONS"},data:[],isChangedOrientation:!1,isInited:!1,isInitOnReadyFired:!1,initOnReady(){e.isInitOnReadyFired||e.onInit(window,e.init)},onInit(t,n){if(t.document&&("complete"===t.document.readyState||"interactive"===t.document.readyState)){n();return}e.addEvent(t,"load",n),t.document&&(e.addEvent(t.document,"DOMContentLoaded",n),e.addEvent(t.document,"readystatechange",function(){"complete"===t.document.readyState&&(n(),e.passDimensions())}))},init(){e.isInited||(e.isInited=!0,e.setupVisme(),e.addEvent(window,"orientationchange",e.onOrientationChangeHandler),e.addEvent(window,"resize",e.debouncedUpdateResponsiveSize),e.addEvent(window,"message",e.onMessageHandler,!1),e.addEvent(window,"scroll",e.passDimensions),e.addEvent(window,"resize",e.debouncedPassDimensions),e.addEvent(window,"orientationchange",e.debouncedPassDimensions))},setupVisme(){for(var t=document.getElementsByClassName("visme_d"),n=[],i=0;i<t.length;i++){var o=t[i],a=e.getComputedSizeStyle(o,"width"),s=!!o.getAttribute("data-form-id");0===a||s||n.push({vismeDiv:o,width:a})}for(var r=e.data.length,d=0;d<n.length;d++){var l=n[d];e.setUpVismeEl(l.vismeDiv,d+r,l.width)}setTimeout(e.setupVisme,e.constants.DELAY_BEFORE_CHECKING_REPLACING_VISME_DIVS_TO_IFRAMES_MS)},setUpVismeEl(t,n,i){var o=document.createElement("IFRAME"),a=e.getOrigin(t),s=t.getAttribute("data-prefix")||"",r="true"===t.getAttribute("data-forms"),d=t.getAttribute("data-iframe-style")||"";o.style.cssText=d;var l="/_embed/"+t.getAttribute("data-url")+"?responsive=1";r&&(l="/formsPlayer/_embed/"+t.getAttribute("data-url"),o.setAttribute("webkitallowfullscreen",!0),o.setAttribute("mozallowfullscreen",!0),o.setAttribute("allowFullScreen",!0)),o.setAttribute("src",a+s+l),o.setAttribute("title",t.getAttribute("data-title")),o.style.border="none",o.className="visme",o.dataset.projectid=t.getAttribute("data-url"),e.data[n]||(e.data[n]={}),e.data[n].isFullHeight="true"===t.getAttribute("data-full-h"),e.data[n].height=e.data[n].isFullHeight?"100":t.getAttribute("data-h"),e.data[n].width=t.getAttribute("data-w"),o.setAttribute("width",i),navigator.platform.match(/iPhone|iPod|iPad/)&&o.setAttribute("scrolling","no"),o.style.width=i+"px",e.data[n].height&&e.data[n].width&&!e.data[n].isFullHeight&&o.setAttribute("height",e.data[n].height*(parseInt(i)/e.data[n].width)),o.setAttribute("allowfullscreen",!0),o.setAttribute("webkitallowfullscreen",!0),o.setAttribute("mozallowfullscreen",!0),t.parentNode.replaceChild(o,t),e.onInit(o.contentWindow,function(){setTimeout(e.updateResponsiveSizeEl,e.constants.DELAY_BEFORE_UPDATING_REPLACED_IFRAME_SIZE_MS,o,n)}),e.addEvent(e.getScrollParent(o),"scroll",e.passDimensions)},updateResponsiveSize(){for(var t=document.getElementsByClassName("visme"),n=0;n<t.length;n++)e.updateResponsiveSizeEl(t[n],n);e.isChangedOrientation=!1},updateResponsiveSizeEl(t,n){if(e.data[n]){t.style.overflow="hidden";var i=e.data[n].width,o=e.data[n].height,a=e.data[n].isFullHeight,s=e.getComputedSizeStyle(t,"width"),r=s-e.getComputedSizeStyle(t,"padding-left")-e.getComputedSizeStyle(t,"padding-right");r<=0&&(r=s);var d=r/i;if(t.width=r,t.style.width=r+"px",o&&!a?t.height=parseInt(o*d):t.style.height=o+"vh",e.isChangedOrientation){var l=t.getAttribute("src");t.setAttribute("src",""),t.setAttribute("src",l),e.isChangedOrientation=!1}}},getOrigin(e){var t=e.getAttribute("data-domain")||"my",n="visme4"===t,i="file://"===window.location.origin,o="https://";return i&&(o=n?"http://":"https://"),o+t+(n?"":".visme.co")},addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e["on"+t]=e["e"+t+n]},debounce(e,t){var n;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout(function(){n=null,e.apply(i,o)},t)}},getParent(e,t){for(var n=e;t--;)if(n&&n.parentNode)n=n.parentNode;else{n=null;break}return n},getComputedSizeStyle(t,n){for(var i=0,o=1;o<=2&&(isNaN(i)||0===i||"auto"===i);o++){var a=e.getParent(t,o);if(null===a){i=0;break}for(var s=[function(){return Number(window.getComputedStyle(a,null).getPropertyValue(n).replace("px",""))},function(){return Number(a.style[n].replace("px",""))},function(){return Number(a.currentStyle[n].replace("px",""))}],r=0;r<s.length&&(isNaN(i)||0===i);r++)try{i=s[r]()}catch(e){i=0}}return i},passDimensions(){var t="",n=document.querySelectorAll("iframe.visme"),i=document.querySelector("#embedded-project-iframe");if(0!==n.length)for(var o=0;o<n.length;o++)t=e.createPassDimensionsMessage(n[o]),n[o].contentWindow.postMessage(t,"*");i&&(t=e.createPassDimensionsMessage(i),i.contentWindow.postMessage(t,"*"))},createPassDimensionsMessage(t){var n={window:{pageYOffset:window.pageYOffset},document:{body:{scrollTop:0,scrollHeight:0,offsetHeight:0},documentElement:{scrollHeight:0,offsetHeight:0,scrollTop:0,clientWidth:0,clientHeight:0}},iframe:{offsetTop:0,offsetHeight:0},scrollParent:{scrollTop:0,scrollHeight:0}};document.body&&(n.document.body.scrollTop=document.body.scrollTop,n.document.body.scrollHeight=document.body.scrollHeight,n.document.body.offsetHeight=document.body.offsetHeight),document.documentElement&&(n.document.documentElement.scrollHeight=document.documentElement.scrollHeight,n.document.documentElement.offsetHeight=document.documentElement.offsetHeight,n.document.documentElement.scrollTop=document.documentElement.scrollTop,n.document.documentElement.clientWidth=document.documentElement.clientWidth,n.document.documentElement.clientHeight=document.documentElement.clientHeight);var i=e.getScrollParent(t);return i!==window&&(n.scrollParent.scrollTop=i.scrollTop,n.scrollParent.scrollHeight=i.scrollHeight),n.iframe.offsetTop=t.offsetTop,n.iframe.offsetHeight=t.offsetHeight,JSON.stringify({type:e.constants.TOP_LEVEL_UPDATE_DIMENSIONS_MESSAGE_TYPE,payload:n})},getScrollParent(t){var n=t&&t.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(t).overflowY,i=("scroll"===n||"auto"===n)&&t.scrollHeight>t.clientHeight;return t?i&&t.scrollHeight>=t.clientHeight?t:e.getScrollParent(t.parentNode)||window:null},getIframeElementFromEventWithProjectId(e){var t,n=e.message?"message":"data",i=e[n],o=document.getElementsByClassName("visme");for(t=0;t<o.length;t++)if(o[t].dataset.projectid.toString()===i.projectid.toString()||o[t].contentWindow===e.source)return o[t];return document.getElementById("embedded-project-iframe")},onMessageHandler(t){if(-1!==t.origin.indexOf("visme")){var n,i=t.message?"message":"data",o=t[i];if("title"===o.event&&(n=e.getIframeElementFromEventWithProjectId(t))&&(n.title=o.title),"hyperlink"===o.event&&"same_window"===o.target&&(window.location=o.args),"scrollto"===o.event){if(!(n=e.getIframeElementFromEventWithProjectId(t)))return;var a=e.getScrollParent(n),s=0;a!==window&&(s=a.getBoundingClientRect().top+window.scrollY);var r=n.getBoundingClientRect().top+window.scrollY,d=o.top+r-s;a.scrollTo({top:d,behavior:"smooth"})}}},onOrientationChangeHandler(){e.isChangedOrientation=!0,e.debouncedUpdateResponsiveSize()}};e.debouncedUpdateResponsiveSize=e.debounce(e.updateResponsiveSize,e.constants.DEBOUNCED_UPDATING_RESPONSEIVE_SIZE_DELAY_MS),e.debouncedPassDimensions=e.debounce(e.passDimensions,e.constants.FPS60),e.initOnReady()}